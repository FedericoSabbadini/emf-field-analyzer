# RF Antennas - Electric Field Analysis (HF/RF)

## Overview

This module simulates the **electric field** generated by radio frequency (RF) antennas operating in the high frequency range (10⁵ - 10¹¹ Hz). At these frequencies, electromagnetic waves propagate as traveling waves, and the analysis focuses on the **far-field radiation pattern**.

## Frequency Bands Covered

| Band | Frequency Range | Wavelength | Typical Applications |
|------|-----------------|------------|---------------------|
| MF | 300 kHz - 3 MHz | 1 km - 100 m | AM radio |
| HF | 3 - 30 MHz | 100 - 10 m | Shortwave, amateur radio |
| VHF | 30 - 300 MHz | 10 - 1 m | FM radio, TV |
| UHF | 300 MHz - 3 GHz | 1 m - 10 cm | Mobile phones, WiFi |
| SHF | 3 - 30 GHz | 10 - 1 cm | Satellite, radar |

## Physical Principles

### Far-Field Approximation

In the **far-field region** (Fraunhofer region), defined as r > 2D²/λ where D is the antenna dimension:

- Electric and magnetic fields are perpendicular to each other and to propagation direction
- E/H ratio equals the impedance of free space: Z₀ = 377 Ω
- Power density decreases as 1/r²
- Field magnitude decreases as 1/r

### Electric Field Equation

For an antenna with EIRP (Equivalent Isotropically Radiated Power):

```
E = √(30 · EIRP) / r · F(θ,φ)
```

Where:
- **EIRP** [W]: Product of transmitter power and antenna gain
- **r** [m]: Distance from antenna
- **F(θ,φ)**: Normalized radiation pattern (dimensionless, 0 ≤ F ≤ 1)
- **θ**: Elevation angle (from zenith)
- **φ**: Azimuth angle (from reference direction)

### Power Density

The power density (Poynting vector magnitude) is:

```
S = E²/Z₀ = E²/377 [W/m²]
```

Or equivalently:

```
S = EIRP/(4πr²) · G(θ,φ)
```

Where G(θ,φ) = F²(θ,φ) is the power pattern.

## Antenna Types Analyzed

### 1. Isotropic Radiator (Theoretical Reference)
- Pattern: F(θ,φ) = 1 (uniform in all directions)
- Isosurfaces: Perfect spheres
- Gain: G = 1 (0 dBi) by definition
- **Note**: Not physically realizable; used as reference

### 2. Yagi-Uda Antenna (Directive)
- Pattern: F(θ,φ) = |sin(θ)·sin(φ)|
- Isosurfaces: Figure-eight lobes
- Typical gain: 5-15 dBi
- Applications: TV reception, amateur radio, base stations

### 3. Parabolic Dish Antenna
- Pattern: F(θ) = cos²(θ) for θ < θ_max
- Isosurfaces: Narrow pencil beam
- Typical gain: 20-50 dBi
- Applications: Satellite communication, microwave links, radar

## Regulatory Framework

### Italian Limits (DPCM 8 July 2003)

For frequencies 100 kHz - 300 GHz:

| Level | E-field [V/m] | Power density [W/m²] |
|-------|---------------|----------------------|
| Exposure limit | 20 | 1 |
| Attention value | 6 | 0.1 |
| Quality objective | 6 | 0.1 |

### ICNIRP Guidelines (2020)

Reference levels for general public (100 MHz - 6 GHz):
- E-field: 28-61 V/m (frequency dependent)
- Power density: 2-10 W/m²

## Simulation Methodology

1. **Grid definition**: 3D spatial grid around antenna
2. **Distance calculation**: r = √(x² + y² + z²)
3. **Angle calculation**: θ = arccos(z/r), φ = arctan2(y,x)
4. **Pattern evaluation**: F(θ,φ) for antenna type
5. **Field computation**: E = k·F(θ,φ)/r
6. **Visualization**: Isosurfaces at E = 6 V/m and 20 V/m

## Folder Structure

```
antennas_HF_RF/
├── README.md                      # This file
├── isotropic/                     # Ideal reference antenna
│   ├── XY_plane/
│   ├── XZ_plane/
│   ├── YZ_plane/
│   └── 3D_space/
├── yagi_uda_directive/            # TV/radio antenna
│   ├── XY_plane/
│   ├── XZ_plane/
│   ├── YZ_plane/
│   ├── 3D_space_view1/
│   └── 3D_space_view2/
└── parabolic_dish/                # Satellite antenna
    ├── XY_plane/
    ├── XZ_plane/
    ├── YZ_plane/
    └── 3D_space/
```

## Key Concepts

### Antenna Gain and EIRP

**Gain** (G): Ratio of power density in a direction to that of an isotropic antenna with same total power.

**EIRP**: The power an isotropic antenna would need to produce the same peak power density.

```
EIRP = P_tx · G_max
```

### dBi vs dBd

- **dBi**: Gain relative to isotropic antenna
- **dBd**: Gain relative to half-wave dipole (0 dBd = 2.15 dBi)

### Radiation Resistance

The radiation resistance R_r relates input power to radiated power:

```
P_rad = I² · R_r
```

For a short dipole: R_r = 20π²(L/λ)²

## Practical Considerations

1. **Near-field effects**: Close to antenna, field is reactive and complex
2. **Ground reflections**: Real environments include ground plane effects
3. **Building shielding**: Walls attenuate RF fields (5-20 dB typically)
4. **Frequency dependence**: Higher frequencies have higher free-space loss

## References

- IEEE Std C95.1-2019: Safety levels for RF exposure
- ICNIRP Guidelines (2020): RF electromagnetic fields
- Balanis, C.A.: Antenna Theory (4th ed.)
- ITU-R Recommendations: Various (radiation patterns, EMF limits)
